@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model IEnumerable<NMIs>
<center><h2>NMI Management</h2></center>
<a asp-controller="App" asp-action="Home"> &lt; Go Back</a>
<br />
<br />
<p>NMI Count: @Model.Count()</p>
<button class="btn btn-dark"><a asp-controller="NMI" asp-action="NewNMI" class="nav-link" style="color:aqua">Add NMI</a></button>
<br />
<br />
<div>
            <form asp-action="NMIManagement" method="get">
                <div class="form-actions no-color">
                    <p>
                        Search by <b> NMI </b> <input type="text" name="NmiString" value="@ViewData["NmiFilter"]" />
                        <br />
                        <br />
                        Search by <b>Jurisdiction</b>: <input type="text" name="JurString" value="@ViewData["JurisdictionFilter"]" /> <span>Enter <b>VIC</b> or <b>NSW</b> or <b>SA</b> or <b>QLD</b></span>
                        <br />
                        <br />
                        Search by <b>Meter type</b>: <input type="text" name="MeterTypeString" value="@ViewData["MeterTypeFilter"]" /> <span>Enter <b>Smart</b> or <b>Basic</b> </span>
                        <br />
                        <br />
                        Search by <b>NSRD</b>> <input type="date" name="NSRDDate" value="@ViewData["NSRDFilter"]" />
                        <br />
                        <br />
                        Search by <b>Used</b>: <input type="text" name="UsedCheck" value="@ViewData["UsedFilter"]" />
                        <br />
                        <br />
                        <center>
                            <input type="submit" value="Search" class="btn btn-info" />  |
                            <a asp-action="NMIManagement">Back to Full List</a>
                        </center>
                    </p>
                </div>
             </form>
            <center>
                <table class="table table-striped table-bordered" style="margin-left:30px;margin-right:30px; margin-left:30px">
                    <thead class="thead-dark">
                        <tr>
                            <th> NMI </th>
                            <th> Jurisdiction </th>
                            <th> Distributor </th>
                            <th> Meter Type </th>
                            <th> NSRD </th>
                            <th> Meter Serial Number </th>
                            <th> Used for Contract </th>
                            <th> Created on/at </th>
                            <th> Updated on/at </th>
                            <th> Last Updated by</th>
                            <th style="color:darkcyan"> Update </th>
                            <th style="color:darkcyan"> Delete </th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var p in Model)
                        {
                            <tr>
                                <td>  @p.nmi_number </td>
                                <td>  @p.jurisdiction </td>
                                <td>  @p.distributor </td>
                                <td>  @p.metertype </td>
                                <td>  @p.nsrd.ToString("dd/MM/yyyy") </td>
                                <td>  @p.meterserialno </td>
                                <td>  @p.usedforcontract </td>
                                <td>  @p.created_at </td>
                                <td>  @p.updated_at</td>
                                <td>  @p.lastupdatedby </td>
                                <td>
                                    @Html.ActionLink("Edit", "Edit", new { id = p.nmi_id })
                                </td>
                                <td>
                                    @Html.ActionLink("Delete", "Delete", new { id = p.nmi_id })
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </center>
</div>